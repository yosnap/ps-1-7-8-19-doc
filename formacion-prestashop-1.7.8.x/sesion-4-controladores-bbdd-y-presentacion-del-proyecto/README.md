# Sesi贸n 4: Controladores, BBDD y Presentaci贸n del Proyecto

隆Nuestro m贸dulo ya interact煤a con el frontend! Pero todo m贸dulo profesional necesita ser **configurable** por el administrador de la tienda. En esta sesi贸n nos adentraremos en la **arquitectura MVC** de PrestaShop para construir un panel de configuraci贸n robusto y amigable.

Al finalizar esta sesi贸n tendr谩s un m贸dulo con **p谩gina de configuraci贸n funcional**, permitiendo a cualquier administrador modificar su comportamiento sin tocar c贸digo.

####  Conceptos que Dominaremos

1. **Patr贸n MVC** en el contexto de PrestaShop
2. **M茅todo getContent()** como puerta de entrada
3. **Controladores de Back Office** para gestionar p谩ginas de administraci贸n
4. **HelperForm** para formularios est谩ndar de PrestaShop
5. **Procesamiento y validaci贸n** de datos de formularios
6. **Clase Configuration** para guardar/recuperar ajustes
7. **Integraci贸n** entre configuraci贸n y frontend

| Tema                                                | Subtemas Clave                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| --------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| #6 Configuraciones desde el Back Office             | <p>- Uso de <strong><code>HelperForm</code></strong> en 1.7.</p><p>- <strong>Traducci贸n y validaci贸n</strong> de inputs.</p><p>- Guardado de configuraciones con <code>Configuration::updateValue</code>.</p><p>- <strong>Configuraciones por tienda</strong>.</p><p>- Mostrar formularios con datos precargados.</p><p>- <strong>Almacenamiento en base de datos personalizada</strong> vs <code>ps_configuration</code>.</p><p>- <strong><code>FormBuilder</code> de Symfony</strong> (introducci贸n y uso parcial).</p><p>- Acciones tras guardar configuraci贸n y mostrar alertas/errores.</p><p>- <strong>Exportar configuraciones</strong> para migraci贸n futura.</p> |
| #7 Acceso y Manipulaci贸n de la Base de Datos        | <p>- Uso de <code>Db::getInstance()->execute()</code> vs <code>query</code>.</p><p>- <strong>ORM de PrestaShop (ObjectModel)</strong>.</p><p>- Creaci贸n de <strong>nuevas tablas seguras</strong> y gesti贸n de relaciones.</p><p>- Instalaci贸n de estructuras SQL en <code>install()</code>.</p><p>- <strong>SQL personalizado y paginaci贸n</strong>.</p><p>- <strong>Queries multitienda</strong>.</p><p>- Pruebas de <strong>rendimiento</strong> en queries.</p><p>- <strong>Limpieza de datos hu茅rfanos</strong> al desinstalar.</p><p>- Herramientas de visualizaci贸n (Adminer, PHPMyAdmin, etc.).</p>                                                               |
| Presentaci贸n Proyecto Final: M贸dulo de Valoraciones | <p>- <strong>Objetivo:</strong> Permitir que los clientes dejen valoraciones en las fichas de producto.</p><p>- <strong>Funcionalidades:</strong></p><p>1. Formulario para enviar puntuaci贸n (1-5 estrellas) y un comentario.</p><p>2. Listado de valoraciones visibles en la ficha del producto.</p><p>3. Panel en el Back Office para moderar (aprobar/eliminar) las valoraciones.</p>                                                                                                                                                                                                                                                                                  |

